<nav class="breadcrumbs">
  <a [routerLink]="forumLink">Forum</a> /
  @if (post(); as p) {
    <a [routerLink]="p.categoryUrl">{{ p.category }}</a>
    <span> / {{ p.title }}</span>
  }
</nav>

@if (post(); as p) {
  <section class="forum-post">
    <div class="post-header">
      <strong>{{ p.title }}</strong>
      <span class="timestamp">
        {{ p.createdAt | dateTime: 'MM/dd/yyyy, hh:mm a (ZZZZ)' }}
      </span>
    </div>
    <div class="post-body">
      <!-- Content may include markup; use innerHTML to preserve formatting -->
      <p [innerHTML]="p.content"></p>
      <p class="signature">â€” {{ p.authorName }}</p>
    </div>
  </section>
  <section class="comments">
    <h2>Comments</h2>
    @if (comments().length === 0) {
      <p>No comments yet.</p>
    } @else {
      @for (comment of comments(); track comment.id) {
        <div class="comment">
          <p>{{ comment.content }}</p>
          <p class="signature">
            - {{ comment.authorName }},
            {{ comment.createdAt | dateTime: 'MM/dd/yyyy, hh:mm a (ZZZZ)' }}
          </p>
        </div>
      }
    }
  </section>
} @else if (loading()) {
  <p>[LOADING] Please stand by...</p>
} @else if (error()) {
  <p>[ERROR] Unable to load post. Please try again later.</p>
}

<!-- Footer always present at the bottom -->
<pip-footer />
