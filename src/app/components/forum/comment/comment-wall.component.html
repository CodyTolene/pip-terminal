@if (loadingComments()) {
  <pip-loading center />
  <p class="loading">
    <i>LOADING COMMENTS</i>
  </p>
} @else {
  @if (comments().length > 0) {
    <div class="actions">
      <pip-title h2>COMMENTS</pip-title>
      <form>
        <pro-input-dropdown
          [formControl]="commentSortOrderFormControl"
          hideHint
          label="Sorting"
        >
          <pro-input-dropdown-option
            [value]="{ key: 'likesCount', direction: 'desc' }"
            >Most Liked</pro-input-dropdown-option
          >
          <pro-input-dropdown-option
            [value]="{ key: 'createdAt', direction: 'asc' }"
            >Oldest First</pro-input-dropdown-option
          >
          <pro-input-dropdown-option
            [value]="{ key: 'createdAt', direction: 'desc' }"
            >Newest First</pro-input-dropdown-option
          >
        </pro-input-dropdown>
      </form>
    </div>
    @for (comment of comments(); track comment.id) {
      <pip-panel color="warn">
        <pip-forum-comment-display [comment]="comment" />
      </pip-panel>
    }
    <div class="pagination">
      <pip-button
        (click)="prevPageComments()"
        [disabled]="loadingComments() || !hasPrevCommentsPage()"
        [matTooltip]="'Previous Page'"
      >
        <mat-icon fontSet="material-icons-outlined">chevron_left</mat-icon>
      </pip-button>
      <pip-button
        (click)="nextPageComments()"
        [disabled]="loadingComments() || !hasNextCommentsPage()"
        [matTooltip]="'Next Page'"
      >
        <mat-icon fontSet="material-icons-outlined">chevron_right</mat-icon>
      </pip-button>
    </div>
  } @else {
    <p><i>No comments yet.</i></p>
  }
}
