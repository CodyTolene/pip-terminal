<aside>
  <div class="header">
    <h3>Log</h3>
    <div class="button-container">
      <pip-button
        *ngIf="(screenSizeChanges | async) !== 'desktop'"
        type="button"
        (click)="toggleCollapsed()"
        [attr.aria-pressed]="isCollapsed().toString()"
      >
        {{ isCollapsed() ? 'Expand' : 'Collapse' }}
      </pip-button>
      <pip-button
        type="button"
        (click)="clearLog()"
        [disabled]="!signals.logMessages().length || isCollapsed()"
      >
        Clear
      </pip-button>
    </div>
  </div>

  @if (!isCollapsed()) {
    <div>
      @for (entry of signals.logMessages(); track entry) {
        <div>
          <b>λ</b>&nbsp;&nbsp;{{ entry.message }}{{ entry.url ? '&#58;' : '' }}
          @if (entry.url) {
            <a [href]="entry.url" target="_blank">{{ entry.url }}</a>
          }
        </div>
      }
      @if (signals.logMessages().length === 0) {
        <div>λ Log empty.</div>
      }
    </div>
  } @else {
    <!-- Optional collapsed hint; remove if you don't want it -->
    <div class="collapsed-hint">Log is collapsed.</div>
  }
</aside>
